{% extends "emails/base.html" %}
{% load static %}

{% block title %}Confirmación de Interés - {{ experience_title }} - Tuki{% endblock %}

{% block content %}
<!-- Template: Confirmación de Interés en Experiencia de Centro de Alumnos -->
<div style="max-width: 600px; margin: 0 auto; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333333;">

    <!-- Header -->
    <div style="text-align: center; padding: 40px 0 60px 0; border-bottom: 1px solid #e5e7eb;">
        <h1 style="font-size: 28px; font-weight: 600; color: #268078; margin: 0 0 16px 0;">
            ¡Gracias por registrarte!
        </h1>
        <p style="font-size: 18px; color: #6b7280; margin: 0;">
            Hola {{ student_name }}, tu interés ha sido registrado exitosamente
        </p>
    </div>

    <!-- Mensaje Principal -->
    <div style="padding: 40px 0; border-bottom: 1px solid #f3f4f6;">
        <div style="background: linear-gradient(135deg, #268078 0%, #572150 50%, #4CBED7 100%); border-radius: 12px; padding: 32px; margin-bottom: 32px; color: #ffffff;">
            <h2 style="font-size: 22px; font-weight: 600; margin: 0 0 16px 0; color: #ffffff;">
                {{ experience_title }}
            </h2>
            <p style="font-size: 16px; margin: 0; line-height: 1.6; color: #ffffff; opacity: 0.95;">
                Has registrado tu interés en esta experiencia organizada por {{ organizer_name }}.
            </p>
        </div>

        <div style="background-color: #f9fafb; border-left: 4px solid #268078; padding: 24px; border-radius: 8px; margin-bottom: 32px;">
            <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 0 0 12px 0;">
                ¿Qué sigue ahora?
            </h3>
            <ul style="margin: 0; padding-left: 20px; color: #4b5563; font-size: 15px; line-height: 1.8;">
                <li style="margin-bottom: 8px;">
                    <strong>Activación automática:</strong> Cuando se alcance el mínimo de participantes ({{ min_participants }} personas), la experiencia se activará automáticamente.
                </li>
                <li style="margin-bottom: 8px;">
                    <strong>Notificaciones:</strong> Recibirás un correo del centro de alumnos cuando la experiencia esté confirmada y lista para reservar.
                </li>
                <li style="margin-bottom: 8px;">
                    <strong>Anticipación:</strong> La experiencia se realizará con la anticipación necesaria para que puedas planificar tu participación.
                </li>
                <li style="margin-bottom: 0;">
                    <strong>Próximos pasos:</strong> Mantente atento a tu correo, te notificaremos cuando puedas realizar tu reserva oficial.
                </li>
            </ul>
        </div>
    </div>

    <!-- Detalles de la Experiencia -->
    <div style="padding: 40px 0; border-bottom: 1px solid #f3f4f6;">
        <h3 style="font-size: 20px; font-weight: 600; color: #1f2937; margin: 0 0 24px 0;">
            Detalles de la Experiencia
        </h3>
        
        <div style="display: flex; gap: 24px; align-items: flex-start; margin-bottom: 24px;">
            {% if experience_image %}
            <div style="flex-shrink: 0; width: 150px;">
                <img src="{{ experience_image }}" alt="{{ experience_title }}" style="width: 150px; height: 150px; object-fit: cover; border-radius: 8px; border: 1px solid #e5e7eb;">
            </div>
            {% endif %}
            
            <div style="flex: 1;">
                <table style="width: 100%; border-collapse: collapse; margin: 0;">
                    {% if scheduled_date %}
                    <tr>
                        <td style="padding: 8px 0; width: 35%; font-size: 14px; color: #6b7280; font-weight: 500;">Fecha propuesta:</td>
                        <td style="padding: 8px 0; font-size: 14px; color: #1f2937; font-weight: 600;">{{ scheduled_date|date:"l, j \d\e F \d\e Y" }}</td>
                    </tr>
                    {% endif %}
                    {% if scheduled_time %}
                    <tr>
                        <td style="padding: 8px 0; font-size: 14px; color: #6b7280; font-weight: 500;">Hora:</td>
                        <td style="padding: 8px 0; font-size: 14px; color: #1f2937; font-weight: 600;">{{ scheduled_time }}</td>
                    </tr>
                    {% endif %}
                    {% if duration_minutes %}
                    <tr>
                        <td style="padding: 8px 0; font-size: 14px; color: #6b7280; font-weight: 500;">Duración:</td>
                        <td style="padding: 8px 0; font-size: 14px; color: #1f2937; font-weight: 600;">{{ duration_minutes }} minutos</td>
                    </tr>
                    {% endif %}
                    {% if location_name %}
                    <tr>
                        <td style="padding: 8px 0; font-size: 14px; color: #6b7280; font-weight: 500;">Ubicación:</td>
                        <td style="padding: 8px 0; font-size: 14px; color: #1f2937; font-weight: 600;">{{ location_name }}</td>
                    </tr>
                    {% endif %}
                    {% if min_participants and max_participants %}
                    <tr>
                        <td style="padding: 8px 0; font-size: 14px; color: #6b7280; font-weight: 500;">Participantes:</td>
                        <td style="padding: 8px 0; font-size: 14px; color: #1f2937; font-weight: 600;">{{ min_participants }} - {{ max_participants }} personas</td>
                    </tr>
                    {% endif %}
                </table>
            </div>
        </div>

        {% if experience_description %}
        <div style="background-color: #f9fafb; padding: 20px; border-radius: 8px; margin-top: 24px;">
            <p style="font-size: 14px; color: #4b5563; margin: 0; line-height: 1.6;">
                {{ experience_description|striptags|truncatewords:50 }}
            </p>
        </div>
        {% endif %}
    </div>

    <!-- Información del Centro de Alumnos -->
    <div style="padding: 40px 0; border-bottom: 1px solid #f3f4f6;">
        <h3 style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 0 0 16px 0;">
            Organizado por
        </h3>
        <div style="background-color: #f9fafb; padding: 20px; border-radius: 8px;">
            <p style="font-size: 16px; font-weight: 600; color: #268078; margin: 0 0 8px 0;">
                {{ organizer_name }}
            </p>
            {% if organizer_email %}
            <p style="font-size: 14px; color: #6b7280; margin: 0;">
                Contacto: <a href="mailto:{{ organizer_email }}" style="color: #268078; text-decoration: none;">{{ organizer_email }}</a>
            </p>
            {% endif %}
        </div>
    </div>

    <!-- CTA -->
    <div style="padding: 40px 0; text-align: center;">
        <p style="font-size: 16px; color: #4b5563; margin: 0 0 24px 0;">
            ¿Tienes preguntas? Contáctanos directamente
        </p>
        <a href="mailto:{{ organizer_email|default:'ventas@tuki.cl' }}" style="display: inline-block; background: linear-gradient(135deg, #268078 0%, #572150 50%, #4CBED7 100%); color: #ffffff !important; text-decoration: none; padding: 16px 32px; border-radius: 8px; font-weight: 600; font-size: 16px;">
            Contactar al Centro de Alumnos
        </a>
    </div>

    <!-- Información Adicional -->
    <div style="padding: 32px 0; background-color: #f9fafb; border-radius: 8px; margin-top: 40px;">
        <p style="font-size: 14px; color: #6b7280; margin: 0 0 12px 0; text-align: center;">
            <strong>Recordatorio importante:</strong>
        </p>
        <p style="font-size: 13px; color: #6b7280; margin: 0; text-align: center; line-height: 1.6;">
            Este registro de interés no garantiza un lugar en la experiencia. 
            Una vez que se alcance el mínimo de participantes y la experiencia se active, 
            recibirás un correo con las instrucciones para realizar tu reserva oficial.
        </p>
    </div>
</div>
{% endblock %}

